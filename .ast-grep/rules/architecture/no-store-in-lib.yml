id: no-store-subscription-in-lib
message: |
  lib/ modules should use getState() for store access, not subscriptions.

  BAD: const value = useUIStore(state => state.value)
  GOOD: const value = useUIStore.getState().value

  Store subscriptions create React coupling. lib/ should remain pure.
severity: error
language: TypeScript
files:
  - 'src/lib/**/*.ts'
  - 'src/lib/**/*.tsx'
rule:
  pattern: useUIStore($$$SELECTOR)
note: |
  lib/ can import stores ONLY for getState() - one-way data access
  without React coupling.

  See: docs/developer/architecture-guide.md
