@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";
@import "./animation";
@import "./theme";

@custom-variant dark (&:is(.dark *));

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  :where(*):not(.no-scrollbar) {
    scrollbar-width: thin;
    scrollbar-color: var(--scrollbar-thumb) transparent;
  }
  :where(*):not(.no-scrollbar)::-webkit-scrollbar {
    width: var(--scrollbar-size);
    height: var(--scrollbar-size);
  }
  :where(*):not(.no-scrollbar)::-webkit-scrollbar-track {
    background: transparent;
  }
  :where(*):not(.no-scrollbar)::-webkit-scrollbar-thumb {
    min-height: 24px;
    border: 3px solid transparent;
    border-radius: 999px;
    background: var(--scrollbar-thumb);
    background-clip: padding-box;
  }
  :where(*):not(.no-scrollbar)::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
    background-clip: padding-box;
  }
  :where(*):not(.no-scrollbar)::-webkit-scrollbar-thumb:active {
    background: var(--scrollbar-thumb-active);
    background-clip: padding-box;
  }
  :where(*):not(.no-scrollbar)::-webkit-scrollbar-corner {
    background: transparent;
  }
  body {
    @apply font-sans bg-background text-foreground;
  }
  html {
    @apply font-sans;
  }
}

/* Required for drag regions to work with touch/pen on Windows */
*[data-tauri-drag-region] {
  -webkit-app-region: drag;
  app-region: drag;
}

@layer components {
  .yarl__slide_image {
    border-radius: var(--radius-2xl);
  }

  .yarl__thumbnails_thumbnail {
    transition:
      border-color 180ms ease,
      box-shadow 180ms ease,
      background-color 180ms ease,
      filter 180ms ease;
  }

  .yarl__thumbnails_thumbnail:hover {
    border-color: color-mix(in oklch, var(--color-primary) 45%, transparent);
    background-color: color-mix(in oklch, var(--color-primary) 8%, transparent);
    box-shadow: 0 0 0 1px color-mix(in oklch, var(--color-primary) 22%, transparent);
    filter: saturate(1.04) brightness(1.03);
  }

  .yarl__thumbnails_thumbnail.yarl__thumbnails_thumbnail_active,
  .yarl__thumbnails_thumbnail.yarl__thumbnails_thumbnail_active:hover {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 1px color-mix(in oklch, var(--color-primary) 40%, transparent);
    background-color: transparent;
    filter: none;
  }
}
